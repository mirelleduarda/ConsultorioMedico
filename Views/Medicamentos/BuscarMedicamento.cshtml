@model ConsultorioMedico.Models.MedicamentoViewModel

<div class="form-group">
    <label for="medicamentoID">Selecione o Medicamento</label>
    @Html.DropDownListFor(m => m.Medicamentos, new SelectList(Model.Medicamentos, "Value", "Text"), "Selecione um medicamento", new { @id = "medicamentoSelect", @class = "form-control" })
</div>

<button id="buscarDetalhes" class="btn btn-primary">Buscar Detalhes</button>

<div id="detalhesMedicamento" style="margin-top: 20px;">
    <!-- Os detalhes do medicamento aparecerão aqui -->
</div>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $('#buscarDetalhes').click(function (e) {
                e.preventDefault();
                var medicamentoId = $('#medicamentoSelect').val();

                if (medicamentoId) {
                    $.ajax({
                        url: '@Url.Action("BuscarDetalhes", "Medicamentos")',
                        type: 'POST',
                        data: { medicamentoId: medicamentoId },
                        success: function (data) {
                            if (data) {
                                $('#detalhesMedicamento').html(
                                    '<h4>Detalhes do Medicamento</h4>' +
                                    '<p><strong>Descrição:</strong> ' + data.descricao + '</p>' +
                                    '<p><strong>Quantidade em Estoque:</strong> ' + data.qtdeEstoque + '</p>' +
                                    '<p><strong>Estoque Mínimo:</strong> ' + data.estoqueMin + '</p>' +
                                    '<p><strong>Estoque Máximo:</strong> ' + data.estoqueMax + '</p>' +
                                    '<p><strong>Preço Unitário:</strong> ' + data.precoUnitario + '</p>'
                                );
                            } else {
                                $('#detalhesMedicamento').html('<p>Nenhum detalhe encontrado.</p>');
                            }
                        }
                    });
                } else {
                    alert('Por favor, selecione um medicamento.');
                }
            });
        });
    </script>
}
